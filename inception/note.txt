WordPress :
Installe avec wp-cli, configure wp-config.php
Doit utiliser php-fpm, pas nginx // chno lfer9 bin wordpress fiha php or nginx



 4. secrets/
Stocke les mots de passe dans :

db_root_password.txt

db_password.txt

credentials.txt

Ignore ces fichiers avec .gitignore.


ðŸ 9. Makefile
Cible pour : docker-compose up, down, build, etc.


ðŸŒ 11. DNS local
Ajoute login.42.fr â†’ IP locale dans /etc/host



-----------------------------

#!/bin/bash

adduser --home /var/www ${FTP_USER}

echo ${FTP_USER}:${FTP_PWD} | chpasswd

sed -i -r "s/#write_enable=YES/write_enable=YES/1"   /etc/vsftpd.conf

echo "
local_enable=YES
allow_writeable_chroot=YES
pasv_enable=YES
local_root=/var/www ${FTP_USER}
pasv_min_port=40000
pasv_max_port=40005
userlist_file=/etc/vsftpd.userlist" >> /etc/vsftpd.conf

service vsftpd stop

/usr/sbin/vsftpd /etc/vsftpd.conf


#!/bin/bash

mkdir -p /var/run/vsftpd/empty

cat <<EOF > /etc/vsftpd.conf
# run in standalone mode (listen for incomming connections on an IP and a port)
listen=YES
# require a user to login
anonymous_enable=NO
# permits local users in /etc/passwd logins
local_enable=YES
# enable file upload
write_enable=YES
# file permissions for newly user created files = 777(default) - 022(umask)
local_umask=022
# log upoads and downloads
xferlog_enable=YES
pasv_enable=YES
pasv_address=${INCEPTION_IP}
pasv_min_port=30000
pasv_max_port=30009
local_root=/home/${INCEPTION_FTP_USER}
secure_chroot_dir=/var/run/vsftpd/empty
# http://vsftpd.beasts.org/vsftpd_conf.html
EOF

useradd -m -d /home/${INCEPTION_FTP_USER} "${INCEPTION_FTP_USER}"
echo "${INCEPTION_FTP_USER}:${INCEPTION_FTP_PASS}" | chpasswd
service vsftpd stop

/usr/sbin/vsftpd /etc/vsftpd.conf



-----------------------------------------


adduser ftpuser --disabled-password --gecos ""
echo "ftpuser:${FTP_PASS}" | chpasswd
mkdir -p /home/ftpuser/ftp
chown -R ftpuser:ftpuser /home/ftpuser/ftp

----------------------------------------



secrets/ftp_pass.txt


INCEPTION_FTP_USER=ftp_user
INCEPTION_FTP_PASS=passcode


